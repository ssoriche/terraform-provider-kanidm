{
  "packages": {
    "go_1_24": "latest",
    "golangci-lint": "latest",
    "terraform": "latest",
    "goreleaser": "latest",
    "darwin.apple_sdk.frameworks.CoreServices": {
      "platforms": [
        "aarch64-darwin",
        "x86_64-darwin"
      ]
    }
  },
  "shell": {
    "init_hook": [
      "echo 'Installing Go code generation tools...'",
      "go install github.com/hashicorp/terraform-plugin-codegen-openapi/cmd/tfplugingen-openapi@latest",
      "go install github.com/hashicorp/terraform-plugin-codegen-framework/cmd/tfplugingen-framework@latest",
      "go install github.com/hashicorp/terraform-plugin-docs/cmd/tfplugindocs@latest"
    ],
    "scripts": {
      "build": "go build -o terraform-provider-kanidm",
      "test": "go test -v ./...",
      "testacc": "TF_ACC=1 go test -v -timeout 30m ./internal/provider/",
      "generate": "make generate",
      "install": "make install",
      "lint": "golangci-lint run"
    }
  }
}
